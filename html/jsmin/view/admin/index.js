"use strict";define(["angular","require","jquery","config","bootstrap"],function(e,a){var t=a("jquery"),o=a("config").config,n=a("config").adminPages;t(".sidebar").on("click",".nav-model .nav-model-header",function(e){t(e.target).parent(".nav-model").toggleClass("active")});var i=e.module("admin",[]);i.controller("adminCtrl",function(e,a){e.config=o,e.title="管理主页-"+o.projectName,e.userName="",e.password="",e.adminPages=n,e.login=function(){a({url:o.api+"/login",method:"POST",xhrFields:{withCredentials:!0},headers:{"Content-Type":"application/x-www-form-urlencoded;"},transformRequest:t.param,data:{userName:e.userName,passWord:e.password}}).then(function(e){if("ok"===e.status)window.location.reload();else{var a;a="PassWord is not right!"==e.msg?"密码不正确！":"用户不存在！",alert(a)}})},e.navList=[{title:"4",nav:["401","402","403"]},{title:"1",nav:["101","102"]},{title:"3",nav:["301","302"]},{title:"2",nav:["201","202","203"]}],a({url:o.api+"/login/status",method:"GET",xhrFields:{withCredentials:!0}}).then(function(a){a.isLogin?(e.userName=a.userName,removeLoadCover()):t("#loginModal").modal({backdrop:"static",keyboard:!1})})}),e.bootstrap(document,["admin"])});