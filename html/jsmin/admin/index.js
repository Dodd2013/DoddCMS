"use strict";!function(){var e=function(){$(".load-cover").css({opacity:0}),setTimeout(function(){$(".load-cover").remove()},2e3)},t=angular.module("admin",["ui.router"]);t.controller("adminCtrl",function(e,t){e.config=config,e.title="管理主页-"+config.projectName,e.userName="",e.password="",e.adminPages=adminPages,e.navList=[{title:"4",nav:["401","402","403"]},{title:"1",nav:["101","102"]},{title:"3",nav:["301","302"]},{title:"2",nav:["201","202","203"]}]}),t.controller("userManageCtrl",function(e,t){}),t.controller("userRoleManageCtrl",function(e,t){}),t.controller("navManageCtrl",function(e,t){}),t.controller("adManageCtrl",function(e,t){}),t.controller("dbManageCtrl",function(e,t){}),t.controller("rolePermissionManageCtrl",function(e,t){}),t.controller("roleManageCtrl",function(e,t){}),t.controller("columnManageCtrl",function(e,t){}),t.controller("publishCtrl",function(e,t){}),t.controller("contentManageCtrl",function(e,t){}),t.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("settings",{url:"/settings",resolve:{},templateUrl:"tpls/settings.html"}).state("index",{url:"/",resolve:{},templateUrl:"tpls/hello.html"}).state("userManage",{url:"/userManage",resolve:{},templateUrl:"tpls/userManage.html",controller:"userManageCtrl"}).state("userRoleManage",{url:"/userRoleManage",resolve:{},templateUrl:"tpls/userRoleManage.html",controller:"userRoleManageCtrl"}).state("navManage",{url:"/navManage",resolve:{},templateUrl:"tpls/navManage.html",controller:"navManageCtrl"}).state("adManage",{url:"/adManage",resolve:{},templateUrl:"tpls/adManage.html",controller:"adManageCtrl"}).state("dbManage",{url:"/dbManage",resolve:{},templateUrl:"tpls/dbManage.html",controller:"dbManageCtrl"}).state("roleManage",{url:"/roleManage",resolve:{},templateUrl:"tpls/roleManage.html",controller:"roleManageCtrl"}).state("rolePermissionManage",{url:"/rolePermissionManage",resolve:{},templateUrl:"tpls/rolePermissionManage.html",controller:"rolePermissionManageCtrl"}).state("columnManage",{url:"/columnManage",resolve:{},templateUrl:"tpls/columnManage.html",controller:"columnManageCtrl"}).state("publish",{url:"/publish",resolve:{},templateUrl:"tpls/publish.html",controller:"publishCtrl"}).state("contentManage",{url:"/contentManage",resolve:{},templateUrl:"tpls/contentManage.html",controller:"contentManageCtrl"}),t.otherwise("/")}]),$("#loginSubmit").on("click","",function(e){var t=$("html").scope();$.ajax({url:config.api+"/login",type:"POST",dataType:"json",data:{userName:t.userName,passWord:t.password}}).success(function(e){if("ok"===e.status)window.location.reload();else{var t;t="PassWord is not right!"==e.msg?"密码不正确！":"用户不存在！",new PNotify({type:"error",text:t})}})}),$(".sidebar").on("click",".nav-model .nav-model-header",function(e){$(e.target).parent(".nav-model").toggleClass("active")}),$.ajax({url:config.api+"/login/status",type:"GET",dataType:"json",data:{}}).success(function(t){var l=$("html").scope();t.isLogin?(l.$apply(function(){l.userName=t.userName}),e()):$("#loginModal").modal({backdrop:"static",keyboard:!1})})}();