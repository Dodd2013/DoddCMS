"use strict";!function(){var e=function(){$(".load-cover").css({opacity:0}),setTimeout(function(){$(".load-cover").remove()},2e3)},a=angular.module("admin",["ui.router"]);a.controller("adminCtrl",function(e,a){e.config=config,e.title="管理主页-"+config.projectName,e.userName="",e.password="",e.adminPages=adminPages,e.navList=[{title:"1",nav:["101","102"]},{title:"2",nav:["201","202","203"]},{title:"3",nav:["301","302"]},{title:"4",nav:["401","402","403"]}]}),a.config(["$stateProvider","$urlRouterProvider",function(e,a){a.otherwise("/"),e.state("userManage",{url:"/userManage",resolve:{},templateUrl:"tpls/hello.html",controller:"UIRouterCtrl"})}]),$("#loginSubmit").on("click","",function(e){var a=$("html").scope();$.ajax({url:config.api+"/login",type:"POST",dataType:"json",data:{userName:a.userName,passWord:a.password}}).success(function(e){if("ok"===e.status)window.location.reload();else{var a;a="PassWord is not right!"==e.msg?"密码不正确！":"用户不存在！",new PNotify({type:"error",text:a})}})}),$(".sidebar").on("click",".nav-model .nav-model-header",function(e){$(e.target).parent(".nav-model").toggleClass("active")}),$.ajax({url:config.api+"/login/status",type:"GET",dataType:"json",data:{}}).success(function(a){var t=$("html").scope();a.isLogin?(t.$apply(function(){t.userName=a.userName}),e()):$("#loginModal").modal({backdrop:"static",keyboard:!1})})}();