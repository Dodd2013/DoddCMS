"use strict";define(["angular","jquery","jstree","ngJsTree","config"],function(e,n,t,r,o){var a="columnManageCtrl";return o=o.config,{route:{path:"columnManage",route:{url:"/columnManage",templateUrl:"tpls/columnManage.html",controller:a}},ctrl:{name:a,fn:["$scope","$timeout","$http",function(n,t,r){n.initJsTree=function(){r({url:o.api+"/column",method:"GET",withCredentials:!0}).then(function(e){n.originalData=e.data,n.reCreateTree()})},n.ignoreChanges=!1,n.treeInstance={},n.originalData=[],n.treeData=[],e.copy(n.originalData,n.treeData),n.treeConfig={core:{multiple:!1,animation:!0,error:function(n){$log.error("treeCtrl: error from js tree - "+e.toJson(n))},check_callback:!0,worker:!0},types:{"default":{icon:"glyphicon glyphicon-th"},root:{icon:"glyphicon glyphicon-th-large"}},version:1,plugins:["types","contextmenu"]},n.reCreateTree=function(){n.ignoreChanges=!0,e.copy(n.originalData,n.treeData),n.treeConfig.version++},n.addNewNode=function(){n.treeData.push({id:(newId++).toString(),parent:n.newNode.parent,text:n.newNode.text})},n.applyModelChanges=function(){return!n.ignoreChanges},n.initJsTree()}]}}});