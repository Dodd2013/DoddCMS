"use strict";define(["angular","bootstrapTableNg","bootstrapTableCN","config"],function(e){var t="navManageCtrl",a=require("config").config;return{route:{path:"navManage",route:{url:"/navManage",templateUrl:"tpls/navManage.html",controller:t}},ctrl:{name:t,fn:["$scope","$http",function(e,t){function n(t,a,n){var i="",l="",r=!0,o=!1,s=void 0;try{for(var c,p=e.premission[Symbol.iterator]();!(r=(c=p.next()).done);r=!0){var u=c.value;"editNavBar"===u.permissionName&&(i="<a href='#' class='opBtn'><span class='glyphicon glyphicon-edit'></span></a>"),"deleteNavBar"===u.permissionName&&(l="<a href='#' class='opBtn'><span class='glyphicon glyphicon-trash'></span></a>")}}catch(d){o=!0,s=d}finally{try{!r&&p["return"]&&p["return"]()}finally{if(o)throw s}}return i+l}e.premission=null,e.ajaxRequest=function(n){var i=t({url:a.api+"/navbar",method:"GET",withCredentials:!0,params:n.data});null===e.premission?t({url:a.api+"/navbar/getPermission",method:"GET",withCredentials:!0}).then(function(t){return e.premission=t.data,i}).then(function(e){n.success(e.data)}):i.then(function(e){n.success(e.data)})},e.tableCtrl={options:{toolbar:"#toolbar",ajax:e.ajaxRequest,rowStyle:function(e,t){return{classes:"none"}},sidePagination:"server",cache:!1,height:500,striped:!0,pagination:!0,pageSize:10,pageList:[5,10,25,50,100,200],search:!0,showColumns:!0,showRefresh:!0,minimumCountColumns:2,clickToSelect:!1,maintainSelected:!0,columns:[{field:"itemId",title:"导航ID",align:"center",valign:"bottom",sortable:!0},{field:"itemName",title:"导航名称",align:"center",valign:"middle"},{field:"url",title:"地址",align:"left",valign:"top"},{field:"orderby",title:"优先级",align:"left",valign:"top",sortable:!0},{field:"createdAt",title:"创建时间",align:"left",valign:"top",sortable:!0},{field:"updatedAt",title:"更新时间",align:"left",valign:"top",sortable:!0},{field:"op",title:"操作",align:"center",valign:"middle",clickToSelect:!1,formatter:n}]}}}]}}});