"use strict";define(["require","angular","ueditor","jquery","zeroclipboard","config"],function(e,t,n,o,r,l){var i="publishCtrl";return l=l.config,{route:{path:"publish",route:{url:"/publish",templateUrl:"tpls/publish.html",controller:i}},ctrl:{name:i,fn:["$scope","$http",function(e,n){window.ZeroClipboard=r,window.UE.delEditor("container");window.UE.getEditor("container");e.selectColumnInput=function(){o("#seletColumnModal").modal("show")},e.selectColumnClick=function(){e.belongtoColumn=e.selectedcolumnName,o("#seletColumnModal").modal("hide")},e.initJsTree=function(){n({url:l.api+"/column",method:"GET",withCredentials:!0}).then(function(t){e.originalData=t.data,e.reCreateTree()})},e.selectColumn=function(t,n,o){for(var r in e.originalData)if(e.originalData[r].id===n.selected[0]){e.selected=e.originalData[r];break}e.selectedcolumnName=e.parentColumnName=e.selected.text,e.parentColumnId=e.selected.id,e.selectedDESC=e.selected.DESC,e.type=null},e.treeEventsObj={select_node:e.selectColumn},e.ignoreChanges=!1,e.treeInstance={},e.originalData=[],e.treeData=[],t.copy(e.originalData,e.treeData),e.treeConfig={core:{multiple:!1,animation:!0,error:function(e){$log.error("treeCtrl: error from js tree - "+t.toJson(e))},check_callback:!0,worker:!0},types:{"default":{icon:"glyphicon glyphicon-th"},root:{icon:"glyphicon glyphicon-th-large"}},version:1,plugins:["types","contextmenu"]},e.reCreateTree=function(){e.ignoreChanges=!0,t.copy(e.originalData,e.treeData),e.treeConfig.version++},e.applyModelChanges=function(){return!e.ignoreChanges},e.initJsTree()}]}}});